# Технический этап

## Выбор технологий

### Основные технологии

1. **Electron** - фреймворк для создания кроссплатформенных десктопных приложений
   - Позволяет создавать приложения с использованием веб-технологий
   - Обеспечивает доступ к системным API
   - Поддерживает кроссплатформенную разработку
   - Интеграция с веб-камерой через WebRTC

2. **Electron Forge** - инструмент для упаковки и распространения Electron приложений
   - Упрощает процесс сборки и публикации
   - Предоставляет готовые шаблоны и конфигурации
   - Поддерживает различные форматы дистрибутивов

3. **Vue.js** - прогрессивный JavaScript фреймворк
   - Реактивная система для управления состоянием
   - Компонентный подход к разработке
   - Встроенная поддержка TypeScript
   - Эффективная система рендеринга

4. **TypeScript** - типизированный JavaScript
   - Статическая типизация для повышения надежности кода
   - Улучшенная поддержка IDE и автодополнение
   - Более удобная рефакторизация и поддержка кода

5. **DaisyUI** - компонентная библиотека для Tailwind CSS
   - Готовые компоненты интерфейса
   - Кастомизируемый дизайн
   - Адаптивная верстка

6. **Zod** - библиотека для валидации данных
   - Типобезопасная валидация схем
   - Интеграция с TypeScript
   - Поддержка сложных структур данных

7. **Pinia** - менеджер состояния для Vue.js
   - Типизированное хранилище данных
   - Поддержка модульной архитектуры
   - Интеграция с Vue DevTools

### Дополнительные библиотеки

1. **WebGazer.js** - библиотека для отслеживания взгляда
   - Использует веб-камеру для отслеживания движения глаз
   - Не требует специального оборудования
   - Предоставляет API для калибровки и получения координат взгляда

2. **Heatmap.js** - библиотека для создания тепловых карт
   - Визуализация данных о взгляде пользователя
   - Настраиваемые параметры отображения
   - Поддержка различных форматов данных

## Обоснование выбора технологий

### Electron и Electron Forge
- Выбор Electron обусловлен необходимостью создания десктопного приложения с доступом к веб-камере
- Electron Forge упрощает процесс сборки и распространения приложения
- Позволяет использовать веб-технологии для создания пользовательского интерфейса

### Vue.js и TypeScript
- Vue.js предоставляет удобный инструментарий для создания реактивных интерфейсов
- TypeScript обеспечивает типобезопасность и улучшает поддержку кода
- Комбинация Vue.js и TypeScript позволяет создавать масштабируемые приложения

### DaisyUI и Tailwind CSS
- DaisyUI предоставляет готовые компоненты для быстрой разработки интерфейса
- Tailwind CSS обеспечивает гибкую систему стилизации
- Компоненты легко кастомизируются под нужды проекта

### Zod и Pinia
- Zod обеспечивает надежную валидацию данных
- Pinia предоставляет типизированное хранилище для управления состоянием приложения
- Обе библиотеки хорошо интегрируются с TypeScript

## Архитектурные решения

### Структура приложения
1. **Main Process (Electron)**
   - Управление окнами приложения
   - Доступ к системным API
   - Обработка IPC коммуникации

2. **Renderer Process (Vue.js)**
   - Пользовательский интерфейс
   - Взаимодействие с WebGazer.js
   - Визуализация данных

3. **Хранение данных**
   - Использование Pinia для управления состоянием
   - Локальное хранение данных калибровки
   - Экспорт результатов в различных форматах

### Модульная организация
1. **Модуль отслеживания взгляда**
   - Инициализация WebGazer.js
   - Калибровка системы
   - Сбор данных о взгляде

2. **Модуль визуализации**
   - Генерация тепловых карт
   - Настройка параметров отображения
   - Экспорт результатов

3. **Модуль управления данными**
   - Хранение результатов
   - Валидация данных
   - Обработка и анализ

## Методы реализации

### Отслеживание взгляда
1. **Калибровка**
   - Использование 9-точечной калибровки
   - Сохранение параметров калибровки
   - Возможность повторной калибровки

2. **Сбор данных**
   - Непрерывное отслеживание координат взгляда
   - Фильтрация некорректных данных
   - Агрегация результатов

### Визуализация
1. **Генерация тепловых карт**
   - Использование Heatmap.js
   - Настройка градиентов и интенсивности
   - Наложение на изображение интерфейса

2. **Экспорт результатов**
   - Сохранение в различных форматах
   - Генерация отчетов
   - Экспорт raw данных

### Пользовательский интерфейс
1. **Основные компоненты**
   - Панель управления
   - Область визуализации
   - Настройки системы

2. **Взаимодействие**
   - Интуитивное управление
   - Отзывчивый интерфейс
   - Информативные уведомления
